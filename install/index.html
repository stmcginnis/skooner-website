<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install | k8dash</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A Kubernetes dashboard to manage your cluster.">
    
    <link rel="preload" href="/assets/css/0.styles.d6207286.css" as="style"><link rel="preload" href="/assets/js/app.ece3d02e.js" as="script"><link rel="preload" href="/assets/js/3.179ea2b2.js" as="script"><link rel="preload" href="/assets/js/1.366f4298.js" as="script"><link rel="preload" href="/assets/js/14.6677279e.js" as="script"><link rel="prefetch" href="/assets/js/10.63a24611.js"><link rel="prefetch" href="/assets/js/11.c44215ec.js"><link rel="prefetch" href="/assets/js/12.9cefeedb.js"><link rel="prefetch" href="/assets/js/13.ab1bd6cf.js"><link rel="prefetch" href="/assets/js/15.d89453fc.js"><link rel="prefetch" href="/assets/js/4.bcfad5f8.js"><link rel="prefetch" href="/assets/js/5.dafb88bd.js"><link rel="prefetch" href="/assets/js/6.7efdca39.js"><link rel="prefetch" href="/assets/js/7.b60750dd.js"><link rel="prefetch" href="/assets/js/8.571c5360.js"><link rel="prefetch" href="/assets/js/9.ceb9a020.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6207286.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/k8dash-secondary-logo-white-navbar.png" alt="k8dash" class="logo"></a> <span class="repo-button"><a href="https://github.com/indeedeng/k8dash" aria-label="Star k8dash on GitHub" data-icon="octicon-star" data-size="small" data-show-count="true">
    Star
  </a></span> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/contribute/" class="nav-link">
  Contribute
</a></div> <a class="button-disabled">
    Install
  </a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/contribute/" class="nav-link">
  Contribute
</a></div> <a class="button-disabled">
    Install
  </a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/install/" aria-current="page" class="active sidebar-link">Install</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#installing-k8dash-on-kubernetes-cluster" class="sidebar-link">Installing k8dash on Kubernetes Cluster</a></li><li class="sidebar-sub-header"><a href="/install/#installing-metrics-server" class="sidebar-link">Installing Metrics Server</a></li><li class="sidebar-sub-header"><a href="/install/#running-oidc-on-k8dash" class="sidebar-link">Running OIDC on k8dash</a></li><li class="sidebar-sub-header"><a href="/install/#running-k8dash-with-nodeport" class="sidebar-link">Running k8dash with Nodeport</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="install"><a href="#install" class="header-anchor">#</a> Install</h1> <h2 id="installing-k8dash-on-kubernetes-cluster"><a href="#installing-k8dash-on-kubernetes-cluster" class="header-anchor">#</a> Installing k8dash on Kubernetes Cluster</h2> <p>To Install and run k8dash on your Kubernetes cluster</p> <ol><li>Download <a href="https://raw.githubusercontent.com/herbrandson/k8dash/master/kubernetes-k8dash.yaml" target="_blank" rel="noopener noreferrer">kubernetes-k8dash.yaml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Deploy k8dash by running the following command:</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>kubectl apply -f 
https://raw.githubusercontent.com/herbrandson/k8dash/master/kubernetes-k8dash.yaml
</code></pre></div><p>To access k8dash, you must make it publicly visible. If you have an ingress server setup, you can accomplish this by adding a route:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>kind: Ingress
apiVersion: extensions/v1beta1
metadata:
  name: k8dash
  namespace: kube-system
spec:
  rules:
  -
    host: k8dash.example.com
    http:
      paths:
      -
        path: /
        backend:
          serviceName: k8dash
          servicePort: <span class="token number">80</span>
</code></pre></div><ol start="3"><li>Sign In
<ul><li>The easiest option to sign in is to create a dedicated service account and use its token. This can be accomplished using the following script:<div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># Create the service account in the current namespace (we assume default)</span>
kubectl create serviceaccount k8dash-sa

<span class="token comment"># Give that service account root on the cluster</span>
kubectl create clusterrolebinding k8dash-sa --clusterrole<span class="token operator">=</span>cluster-admin --serviceaccount<span class="token operator">=</span>default:k8dash-sa

<span class="token comment"># Find the secret that was created to hold the token for the SA</span>
kubectl get secrets

<span class="token comment"># Show the contents of the secret to extract the token</span>
kubectl describe secret k8dash-sa-token-xxxxx
</code></pre></div>Retrieve the <code>token</code> value from the secret and enter it into the login screen to access the dashboard.</li> <li>You can also log in to k8dash with <a href="#running-oidc-on-k8dash">OIDC</a> or <a href="#running-k8dash-with-nodeport">NodePort</a>.</li></ul></li></ol> <h2 id="installing-metrics-server"><a href="#installing-metrics-server" class="header-anchor">#</a> Installing Metrics Server</h2> <p>k8dash relies heavily on metrics-server to display real-time cluster metrics. It is strongly recommended that you install metrics-server for the best experience from k8dash.</p> <ul><li><a href="https://github.com/kubernetes-incubator/metrics-server" target="_blank" rel="noopener noreferrer">Installing metrics-server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/@waleedkhan91/how-to-configure-metrics-server-on-kubeadm-provisioned-kubernetes-cluster-f755a2ac43a2" target="_blank" rel="noopener noreferrer">Running metrics-server with kubeadm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="running-oidc-on-k8dash"><a href="#running-oidc-on-k8dash" class="header-anchor">#</a> Running OIDC on k8dash</h2> <p>k8dash makes using OpenId Connect for authentication easy. Assuming your cluster is configured to use OIDC, all you need to do is create a secret containing your credentials and run the kubernetes-k8dash-oidc.yaml config.
To learn more about configuring a cluster for OIDC, check out these great links:</p> <ul><li><a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/" target="_blank" rel="noopener noreferrer">Authenticating in Kubernetes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/@mrbobbytables/kubernetes-day-2-operations-authn-authz-with-oidc-and-a-little-help-from-keycloak-de4ea1bdbbe" target="_blank" rel="noopener noreferrer">Kubernetes Day 2 Operations: AuthN/AuthZ with OIDC and a Little Help From Keycloak<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/@int128/kubectl-with-openid-connect-43120b451672" target="_blank" rel="noopener noreferrer">kubectl with OpenID Connect<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>You can deploy k8dash with OIDC support using something like the following script...<br><br> <strong>NOTE:</strong> never trust a file downloaded from the internet. Make sure to review the contents of kubernetes-k8dash-oidc.yaml before running the script below.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">OIDC_URL</span><span class="token operator">=</span><span class="token operator">&lt;</span>put your endpoint url here<span class="token punctuation">..</span>. something like https://accounts.google.com<span class="token operator">&gt;</span>
<span class="token assign-left variable">OIDC_ID</span><span class="token operator">=</span><span class="token operator">&lt;</span>put your <span class="token function">id</span> here<span class="token punctuation">..</span>. something like blah-blah-blah.apps.googleusercontent.com<span class="token operator">&gt;</span>
<span class="token assign-left variable">OIDC_SECRET</span><span class="token operator">=</span><span class="token operator">&lt;</span>put your oidc secret here<span class="token operator">&gt;</span>

kubectl create secret -n kube-system generic k8dash <span class="token punctuation">\</span>
--from-literal<span class="token operator">=</span>url<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$OIDC_URL</span>&quot;</span> <span class="token punctuation">\</span>
--from-literal<span class="token operator">=</span>id<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$OIDC_ID</span>&quot;</span> <span class="token punctuation">\</span>
--from-literal<span class="token operator">=</span>secret<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$OIDC_SECRET</span>&quot;</span>
</code></pre></div><p>kubectl apply -f https://raw.githubusercontent.com/herbrandson/k8dash/master/kubernetes-k8dash-oidc.yaml</p> <p>Additionally, there are a few other OIDC options you can provide via environment variables. First is <code>OIDC_SCOPES</code>. The default value for this value is <code>openid email</code>, but additional scopes can also be added using something like<code>OIDC_SCOPES=&quot;openid email groups&quot;</code>.<br><br>
The other option is<code>OIDC_METADATA</code>. k8dash uses the excellent node-openid-client module. <code>OIDC_METADATA</code> will take a json string and pass it to the Client constructor. Docs here. For example, <code>OIDC_METADATA='{&quot;token_endpoint_auth_method&quot;:&quot;client_secret_post&quot;}</code></p> <h2 id="running-k8dash-with-nodeport"><a href="#running-k8dash-with-nodeport" class="header-anchor">#</a> Running k8dash with Nodeport</h2> <p>If you do not have an ingress server setup, you can utilize a NodePort service as configured in the kubernetes-k8dash-nodeport.yaml. This is ideal when creating a single node master, or if you want to get up and running as fast as possible.
This will map the k8dash port 4654 to a randomly selected port on the running node. The assigned port can be found using</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ kubectl get svc --namespace<span class="token operator">=</span>kube-system

NAME       TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>          AGE
k8dash     NodePort    <span class="token number">10.107</span>.107.62   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">4654</span>:32565/TCP   1m
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main> <div class="footer-cncf"><br><br> <h4>k8dash is a CNCF Sandbox project</h4> <img src="/images/cncf.png" alt="Cloud Native Computing Foundation Logo"> <br><br> <p>k8dash was originally created by <a href="https://opensource.indeedeng.io/" target="”_blank”" aria-label="Link opens in new tab">Indeed</a> and made successful by its community.</p> <br> <hr> <p><span class="copyright">
          © Copyright The k8dash Authors <br> <b>    <a href="https://github.com/cncf/foundation/blob/master/code-of-conduct.md" target="”_blank”" aria-label="Link opens in new tab">Code of Conduct</a></b></span> <span class="footer-links"><a href="https://twitter.com/IndeedEng" target="”_blank”"><img src="/images/twitter.png" alt="twitter icon" width="20px"></a> <a href="https://github.com/indeedeng/k8dash" target="”_blank”"><img src="/images/github.png" alt="github icon" width="20px"></a>
            
          <br></span> <br><br></p></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ece3d02e.js" defer></script><script src="/assets/js/3.179ea2b2.js" defer></script><script src="/assets/js/1.366f4298.js" defer></script><script src="/assets/js/14.6677279e.js" defer></script>
  </body>
</html>
